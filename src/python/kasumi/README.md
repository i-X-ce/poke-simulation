# カスミ戦シミュレーション(青)

青版 4 倍速 RTA におけるカスミ戦のシミュレーションを行います。  
ニドキングのステータス等は[現行の世界記録(20205/05/17 現在)](https://youtu.be/I9L-Efo8_uQ?si=3MJLNv5ghOZerRpN)を参考にしています。

## ファイル構成

- [main.py](./main.py)  
   シングルプロセスで計測を行います。
- [main2.py](./main2.py)  
   main.py と同様。
- [main3.py](./main3.py)  
   マルチプロセスで計測を行います。
- [result/](./result/)  
   各計測データの csv ファイルを格納します。

## 動作環境

実行にはセーブファイル・ステートファイル・ROM ファイルが必要になります。
このディレクトリに以下のファイルを追加してください。

- pokemonBlue.gb
- pokemonBlue.gb.ram
- pokemonBlue.gb.state

#### pokemonBlue.gb.ram

ニドキング一匹を手持に加えてカスミの目の前に立っているセーブファイルです。実行に必須ではありません。

#### pokemonBlue.gb.state

カスミに話しかけて、「カスミが　しょうぶを　しかけてきた！」が表示されている画面でステートセーブを行ったステートデータです。

### ニドキングのステータス

- レベル: 25
- わざ

  - あばれる
  - NaN
  - NaN
  - NaN

  |        | H    | A    | B    | S        | C    |
  | ------ | ---- | ---- | ---- | -------- | ---- |
  | 個体値 | -    | 8~15 | 8    | 10,11,15 | 0~15 |
  | 努力値 | 1871 | 2094 | 2376 | 2283     | 2559 |

## 使い方

1. 適切な ROM ファイル、セーブファイル、ステートファイルを用意し、実行ファイルと同じ階層に配置する
1. main.py, main2.py, main3.py のいずれかの実行ファイルを実行する
1. result/に実行時の時間が表記された計測結果が保存されているか確認

### 計測結果

計測結果に保存される列の名前の意味を以下に示します。
|No|A|B|S|C|HP|Win|1~|
|-|-|-|-|-|-|-|-|
|実行番号|A 個体値|B 個体値|S 個体値|C 個体値|初期 HP|勝利数|残り HP|

## 注意

- 基本的に連番の大きいものが最新のコードになります。
- main.py, main2.py はシングルプロセスの実行のみ、main3.py はマルチプロセスの実行のみを想定しています。
- マルチプロセスで実行している場合計測結果の順番がバラバラになります。No に実行番号が保存されているので適宜データをソートしてから使ってください。
- 実行の中断は`Ctrl+C`で行いますが、すぐには中断されない場合があります。即時実行を中断したければタスクマネージャーからタスクの終了をさせてください。中断までの計測結果は csv ファイルに保存されます。
